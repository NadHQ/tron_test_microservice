# üß† Tron Wallet Info Microservice

## üìå –û–ø–∏—Å–∞–Ω–∏–µ

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FastAPI, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ—à–µ–ª—å–∫–µ –≤ —Å–µ—Ç–∏ Tron ‚Äî —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å TRX, –¥–æ—Å—Ç—É–ø–Ω—ã–π **bandwidth** –∏ **energy**.
–°–µ—Ä–≤–∏—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –≤–∫–ª—é—á–∞—è –∞–¥—Ä–µ—Å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞.

---

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.12
- FastAPI
- SQLAlchemy ORM
- Alembic (–º–∏–≥—Ä–∞—Ü–∏–∏)
- PostgreSQL (—á–µ—Ä–µ–∑ Docker)
- TronPy (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–µ—Ç—å—é Tron)
- Pytest (—é–Ω–∏—Ç –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã)
- Docker + Docker Compose

---

## ‚öôÔ∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**

   ```bash
   git clone <repo-url>
   cd <project-folder>
   ```

2. **–°–æ–∑–¥–∞—Ç—å `.env` —Ñ–∞–π–ª (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è). –ü—Ä–∏–º–µ—Ä:**

   ```env
   DATABASE_USER=myuser
   DATABASE_PASSWORD=mypassword
   DATABASE_HOST=postgres_tron
   DATABASE_PORT=5432
   DATABASE_DB=tron

   DATABASE_URL=postgresql+asyncpg://myuser:mypassword@postgres_tron:5432/tron

   TRONGRID_API_KEY=<your_api_key>
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ Docker Compose:**

   ```bash
   docker-compose up --build
   ```

4. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:**

   ```bash
   docker-compose exec backend alembic upgrade head
   ```

---

## üì´ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### `POST /v1/tron/check_adress`

–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –∞–¥—Ä–µ—Å—É Tron.

#### üî∏ –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:

```json
{
  "address": "TRON_WALLET_ADDRESS"
}
```

#### üî∏ –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
  "address": "TRON_WALLET_ADDRESS",
  "balance": 123.45,
  "bandwidth": 1234,
  "energy": 5678
}
```

---

### `GET /v1/tron/get_records`

–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∑–∞–ø–∏—Å–µ–π –∏–∑ –ë–î —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.

#### üî∏ Query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

- `page` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `per_page` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10)

---

## üß™ –¢–µ—Å—Ç—ã

- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ POST —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
- ‚úÖ –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑—É

#### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:

```bash
pytest tests/ -v
```

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ config/         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ core/           # –ö–ª–∏–µ–Ω—Ç—ã, —É—Ç–∏–ª–∏—Ç—ã, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã
‚îú‚îÄ‚îÄ tron/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, API, –º–æ–¥–µ–ª–∏
tests/              # –¢–µ—Å—Ç—ã
alembic/            # –ú–∏–≥—Ä–∞—Ü–∏–∏
```

---

## üìå –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è type-hints –∏ dependency injection
- –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: API / –°–µ—Ä–≤–∏—Å / –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ Alembic
- –û–±—ë—Ä–Ω—É—Ç–æ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –ø–æ best practices

---

## üß© –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä—É–≥–∏—Ö —Å–µ—Ç–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, Ethereum)
